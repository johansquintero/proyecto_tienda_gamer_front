<search (searchValueEvent)="search(1,$event)"></search>
<ul class="list-group">
    @for (producto of productos; track producto.id) {
    <li class="list-group-item m-1">
        <div class="row">
            <div class="col-12">
                <span (click)="goDetail(producto.id)"
                    class="fs-4 text-center fw-bolder clickeable">{{producto.name|uppercase}}</span>
            </div>
            <div class="col-6">
                <img class="img-fluid clickeable fixed-size-image" (click)="goDetail(producto.id)"
                    *ngIf="producto?.imagePath"
                    src="http://localhost:8080/api/productos/uploads/img/{{producto.imagePath}}" alt="">
                <img class="img-fluid clickeable fixed-size-image" (click)="goDetail(producto.id)"
                    *ngIf="!producto?.imagePath" src="http://localhost:8080/api/productos/uploads/img/no_product"
                    alt="">
            </div>
            <div class="col-6">
                <p class="fs-7"><strong>Precio:</strong> {{producto.price|currency:'USD':'symbol':'1.2-2'}}</p>
                <p class="fs-7"><strong>Tipo de producto:</strong> {{producto.tipo}}</p>
                <p class="fs-7"><strong>Marca:</strong> {{producto.marca}}</p>
                <p class="fs-7"><strong>Cantidad disponible:</strong> {{producto.quantity}}</p>
            </div>
        </div>
    </li>
    }
</ul>


@if (!searchState) {
<div class="row">
    <div class="col-9 col-md-auto">
        <ngb-pagination [collectionSize]="collectionSize" [(page)]="page" [pageSize]="pageSize"
            (pageChange)="getProductosByPage()" [maxSize]="5" [rotate]="true" [ellipses]="false" [boundaryLinks]="true"
            size="lg">
            <ng-template ngbPaginationFirst>First</ng-template>
            <ng-template ngbPaginationLast>Last</ng-template>
            <ng-template ngbPaginationPrevious>Prev</ng-template>
            <ng-template ngbPaginationNext>Next</ng-template>
            <ng-template ngbPaginationEllipsis>...</ng-template>
            <ng-template ngbPaginationNumber let-page>{{ page }}</ng-template>
        </ngb-pagination>
    </div>
</div>
} @else{
<div class="row">
    <div class="col-9 col-md-auto">
        <ngb-pagination [collectionSize]="collectionSize" [(page)]="page" [pageSize]="pageSize"
            (pageChange)="search(page,searchValue)" [maxSize]="5" [rotate]="true" [ellipses]="false"
            [boundaryLinks]="true" size="lg">
            <ng-template ngbPaginationFirst>First</ng-template>
            <ng-template ngbPaginationLast>Last</ng-template>
            <ng-template ngbPaginationPrevious>Prev</ng-template>
            <ng-template ngbPaginationNext>Next</ng-template>
            <ng-template ngbPaginationEllipsis>...</ng-template>
            <ng-template ngbPaginationNumber let-page>{{ page }}</ng-template>
        </ngb-pagination>
    </div>
</div>
}
<hr />

<pre>Current page: {{ page }}</pre>
<pre>collectionSize: {{ collectionSize }}</pre>
<pre>pageSize: {{ pageSize }}</pre>